      - name: Manual SDK Setup (The Fix)
        run: |
          mkdir -p ~/theos/sdks
          # استخدام رابط SDK 16.5 من مصدر بديل ومستقر جداً
          curl -L "https://github.com/theos/sdks/releases/latest/download/iPhoneOS16.5.sdk.tar.xz" -o ~/theos/sdks/iPhoneOS16.5.sdk.tar.xz
          
          # التحقق من حجم الملف: إذا كان أقل من 5 ميجا فهذا يعني أنه لم يحمل الملف الحقيقي
          FILESIZE=$(stat -f%z "~/theos/sdks/iPhoneOS16.5.sdk.tar.xz")
          if [ $FILESIZE -lt 5000000 ]; then
              echo "Error: File too small ($FILESIZE bytes). Link might be broken."
              exit 1
          fi
          
          tar -xf ~/theos/sdks/iPhoneOS16.5.sdk.tar.xz -C ~/theos/sdks/
          rm ~/theos/sdks/iPhoneOS16.5.sdk.tar.xz
